extends pug/layouts/base

block title
    title DataTables

block content
    .page-header
        h1 DataTables
    ol.breadcrumb
        li
            a(href='./') Home
        li.active DataTables
    include pug/sections/data-table

block modals
    .modal#js-row-remove.fade(tabindex='-1')
        .modal-dialog.modal-dialog-centered
            .modal-content
                .modal-header
                    button.close(type='button' data-dismiss='modal' aria-label='Close')
                        span &times;
                .modal-body.my-4
                    p.text-lg.text-center Are you sure to delete this item?
                .modal-footer
                    button.btn.btn-secondary(type='button' data-dismiss='modal') Cancel
                    button.btn.btn-primary(type='submit') Confirm
block scripts
    script.
        var firstTable = {
            data: [
                ["Tiger Nixon", "System Architect", "Edinburgh", "5421", "2011/04/25", "$320,800"],
                ["Garrett Winters", "Accountant", "Tokyo", "8422", "2011/07/25", "$170,750"],
                ["Ashton Cox", "Junior Technical Author", "San Francisco", "1562", "2009/01/12", "$86,000"],
                ["Cedric Kelly", "Senior Javascript Developer", "Edinburgh", "6224", "2012/03/29", "$433,060"],
                ["Airi Satou", "Accountant", "Tokyo", "5407", "2008/11/28", "$162,700"],
                ["Brielle Williamson", "Integration Specialist", "New York", "4804", "2012/12/02", "$372,000"],
                ["Herrod Chandler", "Sales Assistant", "San Francisco", "9608", "2012/08/06", "$137,500"],
                ["Rhona Davidson", "Integration Specialist", "Tokyo", "6200", "2010/10/14", "$327,900"],
                ["Colleen Hurst", "Javascript Developer", "San Francisco", "2360", "2009/09/15", "$205,500"],
                ["Sonya Frost", "Software Engineer", "Edinburgh", "1667", "2008/12/13", "$103,600"],
                ["Jena Gaines", "Office Manager", "London", "3814", "2008/12/19", "$90,560"],
                ["Quinn Flynn", "Support Lead", "Edinburgh", "9497", "2013/03/03", "$342,000"],
                ["Charde Marshall", "Regional Director", "San Francisco", "6741", "2008/10/16", "$470,600"],
                ["Haley Kennedy", "Senior Marketing Designer", "London", "3597", "2012/12/18", "$313,500"],
                ["Tatyana Fitzpatrick", "Regional Director", "London", "1965", "2010/03/17", "$385,750"],
                ["Michael Silva", "Marketing Designer", "London", "1581", "2012/11/27", "$198,500"],
                ["Paul Byrd", "Chief Financial Officer (CFO)", "New York", "3059", "2010/06/09", "$725,000"],
                ["Gloria Little", "Systems Administrator", "New York", "1721", "2009/04/10", "$237,500"],
                ["Bradley Greer", "Software Engineer", "London", "2558", "2012/10/13", "$132,000"],
                ["Dai Rios", "Personnel Lead", "Edinburgh", "2290", "2012/09/26", "$217,500"],
                ["Jenette Caldwell", "Development Lead", "New York", "1937", "2011/09/03", "$345,000"],
                ["Yuri Berry", "Chief Marketing Officer (CMO)", "New York", "6154", "2009/06/25", "$675,000"],
                ["Caesar Vance", "Pre-Sales Support", "New York", "8330", "2011/12/12", "$106,450"],
                ["Doris Wilder", "Sales Assistant", "Sydney", "3023", "2010/09/20", "$85,600"],
                ["Angelica Ramos", "Chief Executive Officer (CEO)", "London", "5797", "2009/10/09", "$1,200,000"],
                ["Gavin Joyce", "Developer", "Edinburgh", "8822", "2010/12/22", "$92,575"],
                ["Jennifer Chang", "Regional Director", "Singapore", "9239", "2010/11/14", "$357,650"],
                ["Brenden Wagner", "Software Engineer", "San Francisco", "1314", "2011/06/07", "$206,850"],
                ["Fiona Green", "Chief Operating Officer (COO)", "San Francisco", "2947", "2010/03/11", "$850,000"],
                ["Shou Itou", "Regional Marketing", "Tokyo", "8899", "2011/08/14", "$163,000"],
                ["Michelle House", "Integration Specialist", "Sydney", "2769", "2011/06/02", "$95,400"],
                ["Suki Burks", "Developer", "London", "6832", "2009/10/22", "$114,500"],
                ["Prescott Bartlett", "Technical Author", "London", "3606", "2011/05/07", "$145,000"],
                ["Gavin Cortez", "Team Leader", "San Francisco", "2860", "2008/10/26", "$235,500"],
                ["Martena Mccray", "Post-Sales support", "Edinburgh", "8240", "2011/03/09", "$324,050"],
                ["Unity Butler", "Marketing Designer", "San Francisco", "5384", "2009/12/09", "$85,675"]
            ],
            orderCellsTop: true,
            colReorder: {
                realtime: false
            },
            select: {
                style: 'multi',
                items: 'row'
            },
            stateSave: true,
            initComplete: function () {
                $('.table tbody tr:nth-child(3)').addClass('load-light-gray');
                $('.table tbody tr:nth-child(6)').addClass('load-blue');
                $('.table tbody tr:nth-child(9)').addClass('load-red');
                $('.table tbody tr:nth-child(12)').addClass('load-light-orange');
                $('.table tbody tr:nth-child(15)').addClass('load-medium-orange');
                $('.table tbody tr:nth-child(18)').addClass('load-dark-orange');
                $('.table tbody tr:nth-child(21)').addClass('load-gray');
                $('.table tbody tr:nth-child(24)').addClass('load-yellow');
            },
            columns: [
                {
                    title: "Name",
                    orderable: false,
                },{
                    title: "Position",
                },{
                    title: "Office",
                },{
                    title: "Extn.",
                    orderable: false,
                    searchable: false,
                },{
                    title: "Start Date",
                },{
                    title: "Salary",
                    orderable: false,
                    searchable: false,
                }
            ],
            autoWidth: false,
            order: [[3, 'asc']],
            dom: 'Bfrtip',
            conditionalPaging: true,
            buttons: [
                {
                    text: '<i class="glyphicon glyphicon-star"></i>',
                    action: function () {
                        this.rows().select();
                    }
                },
                {
                    text: '<i class="glyphicon glyphicon-star-empty"></i>',
                    action: function () {
                        this.rows().deselect();
                    }
                },
                {
                    extend: 'copy',
                },
                {
                    extend: 'colvis',
                    className: 'btn-primary',
                    titleAttr: 'Columns visibility',
                    text: 'Hide/Show Columns',
                    init: function (api, node, config) {
                        $(node).removeClass('btn-secondary')
                    }
                }
            ]
            // columnDefs: [{
            //     targets: -1,
            //     data: null,
            //     defaultContent: '<a href="https://google.com" class="btn btn-danger js-row-remove" data-method="post">Remove</button>',
            // }]
        };

        var secondTable = {
            data: [
                ["Tiger Nixon", "System Architect", "Edinburgh"],
                ["Garrett Winters", "Accountant", "Tokyo"],
                ["Ashton Cox", "Junior Technical Author", "San Francisco"],
                ["Cedric Kelly", "Senior Javascript Developer", "Edinburgh"],
                ["Airi Satou", "Accountant", "Tokyo"],
            ],
            orderCellsTop: true,
            colReorder: {
                realtime: false,
                // fixedColumnsRight: 1
            },
            stateSave: true,
            initComplete: function () {
            },
            columns: [
                {
                    title: "Name",
                    orderable: false,
                    // searchable: false,
                },{
                    title: "Position",
                    // orderable: false,
                    // searchable: false,
                },{
                    title: "Office",
                    // orderable: false,
                    // searchable: false,
                },
            ],
            buttons: [
                {
                    text: 'Select all',
                    action: function () {
                        this.rows().select();
                    }
                },
                {
                    text: 'Select none',
                    action: function () {
                        this.rows().deselect();
                    }
                },
                {
                    extend: 'colvis',
                    columns: ':gt(0)'
                }
            ],
            dom: 'Bfrtip',
            order: [[1, 'asc']],
            autoWidth: false,
            conditionalPaging: true,
        };
        var thirdTable = {
            data: [
                ["Tiger Nixon", "System Architect", "Edinburgh"],
                ["Garrett Winters", "Accountant", "Tokyo"],
                ["Ashton Cox", "Junior Technical Author", "San Francisco"],
                ["Cedric Kelly", "Senior Javascript Developer", "Edinburgh"],
                ["Airi Satou", "Accountant", "Tokyo"],
            ],
            orderCellsTop: true,
            colReorder: {
                // fixedColumnsLeft: 1,
            },
            stateSave: true,
            initComplete: function () {
            },
            columns: [
                {
                    title: "Name",
                    searchable: false,
                },{
                    title: "Position",
                },{
                    title: "Office",
                },
            ],
            buttons: [
                {
                    extend: 'colvis',
                    columns: ':gt(0)'
                }
            ],
            dom: 'Bfrtip',
            autoWidth: false,
            conditionalPaging: true,
        };
    script.
        $.contextMenu({
            selector: '.js-datatable[data-dt-index] tbody td',
            items: {
                'Open InDispatch': {
                    name: '<a href="https://indispatch.com" target="_blank">Open InDispatch</a>',
                    isHtmlName: true,
                    icon: 'fas fa-link'
                },
                'Alert Click': {
                    name: 'Alert Click',
                    icon: 'fas fa-exclamation',
                    callback: function (itemKey, opt, e) {
                        // Alert the key of the item and the trigger element's id.
                        alert('Clicked on ' + itemKey + ' on element ' + opt.$trigger.id);

                        // Do not close the menu after clicking an item
                        return false;
                    }
                },
                '-': '-',
                'sort-asc': {
                    name: 'Ascending Sort',
                    icon: 'fas fa-sort-amount-down-alt',
                    className: 'js-dt-sort-asc'
                },
                'sort-desc': {
                    name: 'Descending Sort',
                    icon: 'fas fa-sort-amount-down',
                    className: 'js-dt-sort-desc'
                },
                'show-all': {
                    name: 'Show All',
                    icon: 'fas fa-border-all',
                    className: 'js-dt-show-all'
                },
                'filter-by': {
                    name: 'Filter By',
                    icon: 'fas fa-crosshairs',
                    className: 'js-dt-filter-by'
                },
                'filter-out': {
                    name: 'Filter Out',
                    icon: 'fas fa-search-minus',
                    className: 'js-dt-filter-out'
                },
                '-': '-',
                'fold1': {
                    name: "Sub menu",
                    icon: 'fas fa-chevron-right',
                    items: {
                        'fold1-key1': {
                            name: 'Item 1',
                            icon: 'fas fa-check',
                        },
                        'fold1-key2': {
                            name: 'Item 2',
                            icon: 'fas fa-check',
                        },
                        'fold2': {
                            name: 'Item 3',
                            icon: 'fas fa-chevron-right',
                            'items': {
                                'fold2-key1': {
                                    name: 'Item 1',
                                },
                                'fold2-key2': {
                                    name: 'Item 2',
                                },
                                'fold2-key3': {
                                    name: 'Item 3',
                                }
                            }
                        },
                        'fold1-key3': {
                            name: 'Item 3',
                            icon: 'fas fa-check',
                        }
                    }
                },
                'Exit': {
                    name: 'Close',
                    icon: 'fas fa-times',
                    callback: function () {
                        return true;
                    }
                }
            }
        });

